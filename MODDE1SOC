;  MODDDE2: Register definition for DE2-8052 softcore
;
;   Copyright (C) 2011-2019 Jesus Calvino-Fraga, jesusc at ece.ubc.ca
;
;   This library is free software; you can redistribute it and/or
;   modify it under the terms of the GNU Lesser General Public
;   License as published by the Free Software Foundation; either
;   version 2.1 of the License, or (at your option) any later version.
;
;   This library is distributed in the hope that it will be useful,
;   but WITHOUT ANY WARRANTY; without even the implied warranty of
;   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
;   Lesser General Public License for more details.
;
;   You should have received a copy of the GNU Lesser General Public
;   License along with this library; if not, write to the Free Software
;   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
;
    
P0     DATA  080H  ;PORT 0
SP     DATA  081H  ;STACK POINTER
DPL    DATA  082H  ;DATA POINTER - LOW BYTE
DPH    DATA  083H  ;DATA POINTER - HIGH BYTE
DPL1   DATA  084H  ;DATA POINTER 1 - LOW BYTE
DPH1   DATA  085H  ;DATA POINTER 1 - HIGH BYTE
DPS    DATA  086H  ;DATA POINTER SELECT. DPH1, DPL1 active when DPS.0=1
PCON   DATA  087H  ;POWER CONTROL
TCON   DATA  088H  ;TIMER CONTROL
TMOD   DATA  089H  ;TIMER MODE
TL0    DATA  08AH  ;TIMER 0 - LOW BYTE
TL1    DATA  08BH  ;TIMER 1 - LOW BYTE
TH0    DATA  08CH  ;TIMER 0 - HIGH BYTE
TH1    DATA  08DH  ;TIMER 1 - HIGH BYTE
P1     DATA  090H  ;PORT 1
SCON   DATA  098H  ;SERIAL PORT CONTROL
SBUF   DATA  099H  ;SERIAL PORT BUFFER
P2     DATA  0A0H  ;PORT 2
IE     DATA  0A8H  ;INTERRUPT ENABLE
P3     DATA  0B0H  ;PORT 3
IP     DATA  0B8H  ;INTERRUPT PRIORITY
T2CON  DATA  0C8H  ;TIMER 2 CONTROL
T2MOD  DATA  0C9H  ;TIMER 2 MODE
RCAP2L DATA  0CAH  ;TIMER 2 CAPTURE REGISTER - LOW BYTE
RCAP2H DATA  0CBH  ;TIMER 2 CAPTURE REGISTER - HIGH BYTE
TL2    DATA  0CCH  ;TIMER 2 - LOW BYTE
TH2    DATA  0CDH  ;TIMER 2 - HIGH BYTE
PSW    DATA  0D0H  ;PROGRAM STATUS WORD
ACC    DATA  0E0H  ;ACCUMULATOR
B      DATA  0F0H  ;MULTIPLICATION REGISTER
IT0    BIT   088H  ;TCON.0 - EXT. INTERRUPT 0 TYPE
IE0    BIT   089H  ;TCON.1 - EXT. INTERRUPT 0 EDGE FLAG
IT1    BIT   08AH  ;TCON.2 - EXT. INTERRUPT 1 TYPE
IE1    BIT   08BH  ;TCON.3 - EXT. INTERRUPT 1 EDGE FLAG
TR0    BIT   08CH  ;TCON.4 - TIMER 0 ON/OFF CONTROL
TF0    BIT   08DH  ;TCON.5 - TIMER 0 OVERFLOW FLAG
TR1    BIT   08EH  ;TCON.6 - TIMER 1 ON/OFF CONTROL
TF1    BIT   08FH  ;TCON.7 - TIMER 1 OVERFLOW FLAG
RI     BIT   098H  ;SCON.0 - RECEIVE INTERRUPT FLAG
TI     BIT   099H  ;SCON.1 - TRANSMIT INTERRUPT FLAG
RB8    BIT   09AH  ;SCON.2 - RECEIVE BIT 8
TB8    BIT   09BH  ;SCON.3 - TRANSMIT BIT 8
REN    BIT   09CH  ;SCON.4 - RECEIVE ENABLE
SM2    BIT   09DH  ;SCON.5 - SERIAL MODE CONTROL BIT 2
SM1    BIT   09EH  ;SCON.6 - SERIAL MODE CONTROL BIT 1
SM0    BIT   09FH  ;SCON.7 - SERIAL MODE CONTROL BIT 0
EX0    BIT   0A8H  ;IE.0 - EXTERNAL INTERRUPT 0 ENABLE
ET0    BIT   0A9H  ;IE.1 - TIMER 0 INTERRUPT ENABLE
EX1    BIT   0AAH  ;IE.2 - EXTERNAL INTERRUPT 1 ENABLE
ET1    BIT   0ABH  ;IE.3 - TIMER 1 INTERRUPT ENABLE
ES     BIT   0ACH  ;IE.4 - SERIAL PORT INTERRUPT ENABLE
ET2    BIT   0ADH  ;IE.5 - TIMER 2 INTERRUPT ENABLE
EA     BIT   0AFH  ;IE.7 - GLOBAL INTERRUPT ENABLE
RXD    BIT   0B0H  ;P3.0 - SERIAL PORT RECEIVE INPUT
TXD    BIT   0B1H  ;P3.1 - SERIAL PORT TRANSMIT OUTPUT
INT0   BIT   0B2H  ;P3.2 - EXTERNAL INTERRUPT 0 INPUT
INT1   BIT   0B3H  ;P3.3 - EXTERNAL INTERRUPT 1 INPUT
T0     BIT   0B4H  ;P3.4 - TIMER 0 COUNT INPUT
T1     BIT   0B5H  ;P3.5 - TIMER 1 COUNT INPUT
WR     BIT   0B6H  ;P3.6 - WRITE CONTROL FOR EXT. MEMORY
RD     BIT   0B7H  ;P3.7 - READ CONTROL FOR EXT. MEMORY
PX0    BIT   0B8H  ;IP.0 - EXTERNAL INTERRUPT 0 PRIORITY
PT0    BIT   0B9H  ;IP.1 - TIMER 0 PRIORITY
PX1    BIT   0BAH  ;IP.2 - EXTERNAL INTERRUPT 1 PRIORITY
PT1    BIT   0BBH  ;IP.3 - TIMER 1 PRIORITY
PS     BIT   0BCH  ;IP.4 - SERIAL PORT PRIORITY
PT2    BIT   0BDH  ;IP.5 - TIMER 2 PRIORITY
CAP2   BIT   0C8H  ;T2CON.0 - CAPTURE OR RELOAD SELECT
CNT2   BIT   0C9H  ;T2CON.1 - TIMER OR COUNTER SELECT
TR2    BIT   0CAH  ;T2CON.2 - TIMER 2 ON/OFF CONTROL
EXEN2  BIT   0CBH  ;T2CON.3 - TIMER 2 EXTERNAL ENABLE FLAG
TCLK   BIT   0CCH  ;T2CON.4 - TRANSMIT CLOCK SELECT
RCLK   BIT   0CDH  ;T2CON.5 - RECEIVE CLOCK SELECTT
EXF2   BIT   0CEH  ;T2CON.6 - EXTERNAL TRANSITION FLAG
TF2    BIT   0CFH  ;T2CON.7 - TIMER 2 OVERFLOW FLAG
P      BIT   0D0H  ;PSW.0 - ACCUMULATOR PARITY FLAG
OV     BIT   0D2H  ;PSW.2 - OVERFLOW FLAG
RS0    BIT   0D3H  ;PSW.3 - REGISTER BANK SELECT 0
RS1    BIT   0D4H  ;PSW.4 - REGISTER BANK SELECT 1
F0     BIT   0D5H  ;PSW.5 - FLAG 0
AC     BIT   0D6H  ;PSW.6 - AUXILIARY CARRY FLAG
CY     BIT   0D7H  ;PSW.7 - CARRY FLAG

; For the DE1-SoC configured with an 8052 softcore processor
; we have the following extra registers:

HEX0   DATA  091H ; Zero turns the segment on
HEX1   DATA  092H ; 
HEX2   DATA  093H ; 
HEX3   DATA  094H ; 
HEX4   DATA  08EH ;
HEX5   DATA  08FH ;

P0MOD  DATA  09AH ; Input/output mode bits for port 0.  '1' sets the port to output mode.
P1MOD  DATA  09BH ; Input/output mode bits for port 1
P2MOD  DATA  09CH ; Input/output mode bits for port 2
P3MOD  DATA  09DH ; Input/output mode bits for port 3

LEDRA  DATA  0E8H ; LEDs LEDR0 to LEDR7 (bit addressable, ex: LEDRA.1 for LEDR1)
LEDRB  DATA  095H ; LEDs LEDR8 to LEDR9
SWA    DATA  0E8H ; Switches SW0 to SW7 (bit addressable, ex: SWA.1 for SW1)
SWB    DATA  095H ; Switches SW8 to SW9
KEY    DATA  0F8H ; KEY1=KEY.1, KEY2=KEY.2, KEY3=KEY.3.  KEY0 is the reset button! 

LCD_CMD   DATA 0D8H ;
LCD_DATA  DATA 0D9H ;
LCD_MOD   DATA 0DAH ; Write 0xff to make LCD_DATA an output
LCD_RW    BIT  0D8H ; '0' writes to LCD
LCD_EN    BIT  0D9H ; Toggle from '1' to '0'
LCD_RS    BIT  0DAH ; '0' for commands, '1' for data
LCD_ON    BIT  0DBH ; Write '1' to power the LCD
LCD_BLON  BIT  0DCH ; Write '1' to turn on back light

FLASH_CMD  data 0DBH ; The control bits of the flash memory:
; bit 0: FL_RST_N  Set to 1 for normal operation
; bit 1: FL_WE_N
; bit 2: FL_OE_N
; bit 3: FL_CE_N
FLASH_DATA data 0DCH ; 8-bit data bus of flash memory.
FLASH_MOD  data 0DDH ; 0xff makes FLASH_DATA output.  0x00 makes FLASH_DATA input.
FLASH_ADD0 data 0E1H ; address bits 0 to 7.
FLASH_ADD1 data 0E2H ; address bits 8 to 15.
FLASH_ADD2 data 0E3H ; address bits 16 to 21.

; ADC pins
ADC_MISO    BIT  0F8H ; SPI MISO for AD7928/LTC2308 (Read Only Bit)
ADC_MOSI    BIT  0F9H ; SPI MOSI for AD7928/LTC2308 (Write Only Bit)
ADC_SCLK    BIT  0FAH ; SPI CLK for AD7928/LTC2308 (Write Only Bit)
ADC_ENN     BIT  0FBH ; SPI ENABLE for AD7928/LTC2308 (Write Only Bit)

